import{j as e,r as i,L as x,U as m,N as c,O as l,u as b,a as j,b as L,c as g,d as f,R as _,e as r,f as T}from"./index-DInVcr77.js";const p=(t,n)=>n?t:t+="/*",S=()=>e.jsx("div",{children:"Keystalbe"}),O=()=>e.jsx("div",{children:"OrdersTable"}),N=()=>e.jsx("div",{children:"ProductsTable"}),k=()=>e.jsx("div",{children:"Users Table"}),y=()=>e.jsx("div",{children:"Workers Table"}),a={ORDERSTABLE:"orderstable",WORKERSTABLE:"workerstable",PRODUCTSTABLE:"productstable",USERSTABLE:"userstable",KEYSTABLE:"keystable"},P=[{element:k,isExact:!0,path:a.USERSTABLE,permissionName:"userstable"},{element:S,isExact:!0,path:a.KEYSTABLE,permissionName:"keystable"},{element:O,isExact:!0,path:a.ORDERSTABLE,permissionName:"orderstable"},{element:N,isExact:!0,path:a.PRODUCTSTABLE,permissionName:"productstable"},{element:y,isExact:!0,path:a.WORKERSTABLE,permissionName:"workerstable"}],D=()=>P,U=()=>e.jsx("div",{children:"Delivery"}),w=()=>e.jsx("div",{children:"Order"}),B=()=>e.jsx("div",{children:"profile"}),u={ORDER:"order",DELIVERY:"delivery",PROFILE:"profile"},C=[{element:w,isExact:!0,path:u.ORDER,permissionName:"Order"},{element:B,isExact:!0,path:u.PROFILE,permissionName:"Profile"},{element:U,isExact:!0,path:u.DELIVERY,permissionName:"Delivery"}],I=()=>C,K="_admin__menu_ga4jh_2",F="_container__menu_ga4jh_8",W="_menu_ga4jh_14",d={admin__menu:K,container__menu:F,menu:W},Y=()=>{const[t,n]=i.useState(x.get(m)==="madenrea");return i.useEffect(()=>{const s=()=>{n(x.get(m)==="madenrea")};return window.addEventListener("storage",s),()=>{window.removeEventListener("storage",s)}},[]),e.jsxs("div",{className:d.navigation,children:[t&&e.jsxs("div",{className:d.admin__menu,children:[e.jsx(c,{to:"/elfasa/admin",children:"E L F A S A"}),Object.values(a).map(s=>e.jsx(c,{to:`/elfasa/admin/${s}`,children:s.charAt(0).toUpperCase()+s.slice(1)},s))]}),e.jsx("div",{className:d.container__menu,children:e.jsxs("div",{className:d.menu,children:[e.jsx(c,{to:"/elfasa",children:"Main"}),Object.values(u).map(s=>e.jsx(c,{to:`/elfasa/${s}`,children:s.charAt(0).toUpperCase()+s.slice(1)},s))]})})]})},q=()=>{const[t,n]=i.useState([]);return i.useEffect(()=>{fetch("https://1065-194-93-25-25.ngrok-free.app/api/keys",{method:"GET",headers:{"Content-Type":"application/json","ngrok-skip-browser-warning":"true"}}).then(s=>s.json()).then(s=>{console.log(s),n(s)}).catch(s=>console.error("Ошибка:",s))},[]),e.jsxs("div",{children:["LOGOTYPE",t.map(s=>e.jsx("div",{children:s.name},s.id)),e.jsx("br",{}),e.jsx(Y,{}),e.jsx("br",{}),e.jsx(l,{})]})},$=()=>e.jsx("div",{children:"404 qweqwe"}),E=b,G=()=>{const{isAuth:t}=E(n=>n.userReducer);return t?e.jsx(j,{to:"/elfasa"}):e.jsx(l,{})},M=()=>e.jsx("div",{children:"Login"}),V=()=>e.jsx("div",{children:"Register"}),z=()=>{const t=L(),n=g(),{setUser:s,setIsAuth:o}=f,[h,R]=i.useState(!1),v=()=>{n(s("user")),x.set(m,"madenrea"),n(o(!0)),t("/elfasa")};return e.jsxs("div",{children:[e.jsx("button",{onClick:v,children:"Login"}),e.jsx("br",{}),e.jsx("button",{onClick:()=>R(A=>!A),children:h?"перейти на регистрация перейти на логин":" перейти на логин"}),e.jsx("br",{}),e.jsx(c,{to:"/elfasa",children:"Перейти на главную"}),e.jsx("br",{}),h?e.jsx(M,{}):e.jsx(V,{})]})},H=()=>{const{isAuth:t}=E(n=>n.userReducer);return t?e.jsx(l,{}):e.jsx(j,{to:"/elfasa/auth"})},J=()=>x.get(m)=="madenrea"?e.jsx(l,{}):e.jsx(j,{to:"/elfasa"}),Q=()=>e.jsx("div",{children:e.jsx(l,{})}),X=()=>e.jsx("div",{children:" Products"}),Z=()=>e.jsx("div",{children:"Welcome ELFASA"}),se=()=>{var t,n;return e.jsx(i.Suspense,{fallback:e.jsx(T,{}),children:e.jsxs(_,{children:[e.jsx(r,{element:e.jsx(G,{}),children:e.jsx(r,{path:"elfasa/auth",element:e.jsx(z,{})})}),e.jsxs(r,{path:"elfasa/",element:e.jsx(q,{}),children:[e.jsx(r,{index:!0,element:e.jsx(X,{})}),e.jsx(r,{element:e.jsx(H,{}),children:(t=I())==null?void 0:t.map((s,o)=>e.jsx(r,{path:`${p(s.path,s.isExact)}`,element:e.jsx(s.element,{})},o))}),e.jsx(r,{element:e.jsx(J,{}),children:e.jsxs(r,{path:"admin",element:e.jsx(Q,{}),children:[e.jsx(r,{index:!0,element:e.jsx(Z,{})}),(n=D())==null?void 0:n.map((s,o)=>e.jsx(r,{path:p(s.path,s.isExact),element:e.jsx(s.element,{})},o))]})})]}),e.jsx(r,{path:"*",element:e.jsx($,{})})]})})};export{se as default};
